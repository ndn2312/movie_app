// Thay thế nội dung file SidebarNav.min.js bằng phiên bản sau
! function ($) {
    "use strict";

    $.fn.SidebarNav = function (options) {
        var settings = $.extend({
            animationSpeed: 300
        }, options);

        return this.each(function () {
            $(this).on("click", "li a", function (e) {
                var nextElem = $(this).next();

                if (nextElem.is(".treeview-menu") && nextElem.is(":visible")) {
                    nextElem.slideUp(settings.animationSpeed, function () {
                        nextElem.removeClass("menu-open");
                    });
                    nextElem.parent("li").removeClass("active");
                } else if (nextElem.is(".treeview-menu") && !nextElem.is(":visible")) {
                    var parent = $(this).parents("ul").first();
                    var visible = parent.find("ul:visible").slideUp(settings.animationSpeed);
                    visible.removeClass("menu-open");

                    var parentLi = $(this).parent("li");
                    nextElem.slideDown(settings.animationSpeed, function () {
                        nextElem.addClass("menu-open");
                        parent.find("li.active").removeClass("active");
                        parentLi.addClass("active");
                    });
                }

                if (nextElem.is(".treeview-menu")) {
                    e.preventDefault();
                }
            });
        });
    };
}(jQuery);
